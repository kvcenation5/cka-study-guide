
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Complete Kubernetes Troubleshooting Guide for CKA Exam Preparation">
      
      
      
      
        <link rel="prev" href="../admission-controllers/">
      
      
        <link rel="next" href="../mutating-admission-controllers/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Admission Controller Types - CKA Exam Notes - Kubernetes Troubleshooting</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#types-of-admission-controllers-and-webhooks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="CKA Exam Notes - Kubernetes Troubleshooting" class="md-header__button md-logo" aria-label="CKA Exam Notes - Kubernetes Troubleshooting" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CKA Exam Notes - Kubernetes Troubleshooting
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Admission Controller Types
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../SUMMARY/" class="md-tabs__link">
        
  
  
    
  
  Summary

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../yaml-guide/" class="md-tabs__link">
          
  
  
  Fundamentals

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../setup-guides/kubeadm-mac-multipass/" class="md-tabs__link">
          
  
  
  Lab Setup

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../BETTER_ARCHITECTURE/" class="md-tabs__link">
          
  
  
  Cluster Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../KNOW_YOUR_COMPONENTS/" class="md-tabs__link">
        
  
  
    
  
  Components

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../etcd-deep-dive/" class="md-tabs__link">
          
  
  
  Deep Dives

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../statefulset-pvc-explained/" class="md-tabs__link">
        
  
  
    
  
  StatefulSet & PVC

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../exam-tips/kubectl-commands/" class="md-tabs__link">
          
  
  
  Exam Tips

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../troubleshooting-flowchart/" class="md-tabs__link">
          
  
  
  Diagrams

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="CKA Exam Notes - Kubernetes Troubleshooting" class="md-nav__button md-logo" aria-label="CKA Exam Notes - Kubernetes Troubleshooting" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    CKA Exam Notes - Kubernetes Troubleshooting
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../SUMMARY/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Summary
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Fundamentals
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Fundamentals
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../yaml-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    YAML Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/editing-resources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Editing Pods & Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/api-versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Versions (v1 vs apps/v1)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/service-types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Service Types (ClusterIP/NodePort/LB)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/labels-selectors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Labels and Selectors
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/annotations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Annotations (Metadata)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/resource-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource Requests & Limits
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/limitrange/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LimitRange (Resource Guardrails)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/resource-quota/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resource Quota (The Budget)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/daemonsets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DaemonSets (The Node Resident)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/static-pods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Static Pods (Kubelet Managed)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/configmaps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ConfigMaps (Configuration Data)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/replicasets-vs-deployments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ReplicaSets vs Deployments
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_14" >
        
          
          <label class="md-nav__link" for="__nav_3_14" id="__nav_3_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Pod Scheduling
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Pod Scheduling
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/taints-tolerations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Taints and Tolerations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/node-selector/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node Selector
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/node-affinity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Node Affinity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/taints-vs-affinity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Taints vs Affinity (Comparison)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/priority-classes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Priority Classes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/multiple-schedulers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multiple Schedulers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/pod-scheduling/scheduler-profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Scheduler Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../fundamentals/custom-key-values/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom Key-Value Pairs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Lab Setup
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Lab Setup
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup-guides/kubeadm-mac-multipass/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kubeadm on Mac (Multipass)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup-guides/kops-aws/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kubernetes on AWS (kOps)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup-guides/kubeadm-operations/join-command/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cluster Join Command
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Cluster Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cluster Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../BETTER_ARCHITECTURE/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-management/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Static Pods vs Systemd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../admission-controllers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admission Controllers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Admission Controller Types
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Admission Controller Types
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-the-complete-taxonomy" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. The Complete Taxonomy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. The Complete Taxonomy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-classification" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-Level Classification
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-type-1-built-in-admission-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Type 1: Built-in Admission Controllers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Type 1: Built-in Admission Controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#characteristics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Characteristics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sub-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sub-types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sub-types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-1a-built-in-mutating-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 1A: Built-in Mutating Controllers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-1b-built-in-validating-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 1B: Built-in Validating Controllers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-type-2-dynamic-admission-webhooks" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Type 2: Dynamic Admission Webhooks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Type 2: Dynamic Admission Webhooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#characteristics_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Characteristics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sub-types_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sub-types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sub-types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-2a-mutatingadmissionwebhook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 2A: MutatingAdmissionWebhook
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-2b-validatingadmissionwebhook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 2B: ValidatingAdmissionWebhook
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-how-all-types-interconnect" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. How All Types Interconnect
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. How All Types Interconnect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-complete-admission-control-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Complete Admission Control Flow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-built-in-vs-webhook-detailed-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Built-in vs Webhook: Detailed Comparison
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Built-in vs Webhook: Detailed Comparison">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feature-comparison-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        Feature Comparison Table
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-execution-order-and-precedence" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Execution Order and Precedence
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Execution Order and Precedence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailed-execution-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detailed Execution Sequence
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-real-world-integration-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Real-World Integration Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Real-World Integration Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-complete-pod-creation-with-all-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Complete Pod Creation with All Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-multi-cluster-service-mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Multi-Cluster Service Mesh
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-configuration-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Configuration Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Configuration Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pattern-1-only-built-in-controllers-simple" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 1: Only Built-in Controllers (Simple)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-2-built-in-webhooks-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 2: Built-in + Webhooks (Production)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-troubleshooting-the-interconnections" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Troubleshooting the Interconnections
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Troubleshooting the Interconnections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-my-pod-doesnt-have-the-injected-sidecar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: "My pod doesn't have the injected sidecar"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-request-taking-too-long" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: "Request taking too long"
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-summary-the-complete-picture" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Summary: The Complete Picture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Summary: The Complete Picture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type Matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interconnection-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interconnection Map
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mutating-admission-controllers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mutating Admission Controllers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kube-proxy-deep-dive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kube-Proxy Deep Dive
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../etcd-data-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ETCD Data Model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../KNOW_YOUR_COMPONENTS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Components
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Deep Dives
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Deep Dives
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../etcd-deep-dive/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ETCD & Backup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coredns-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CoreDNS Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statefulset-pvc-explained/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    StatefulSet & PVC
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Exam Tips
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Exam Tips
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exam-tips/kubectl-commands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    kubectl Commands
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exam-tips/dry-run-workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Dry-Run Workflow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Diagrams
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Diagrams
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../troubleshooting-flowchart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Troubleshooting Flowchart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../statefulset-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    StatefulSet Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../network-policy-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Network Policy Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-the-complete-taxonomy" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. The Complete Taxonomy
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. The Complete Taxonomy">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#high-level-classification" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-Level Classification
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-type-1-built-in-admission-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Type 1: Built-in Admission Controllers
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Type 1: Built-in Admission Controllers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#characteristics" class="md-nav__link">
    <span class="md-ellipsis">
      
        Characteristics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sub-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sub-types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sub-types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-1a-built-in-mutating-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 1A: Built-in Mutating Controllers
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-1b-built-in-validating-controllers" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 1B: Built-in Validating Controllers
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-type-2-dynamic-admission-webhooks" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Type 2: Dynamic Admission Webhooks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Type 2: Dynamic Admission Webhooks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#characteristics_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Characteristics
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sub-types_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sub-types
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sub-types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-2a-mutatingadmissionwebhook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 2A: MutatingAdmissionWebhook
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type-2b-validatingadmissionwebhook" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type 2B: ValidatingAdmissionWebhook
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-how-all-types-interconnect" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. How All Types Interconnect
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. How All Types Interconnect">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-complete-admission-control-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        The Complete Admission Control Flow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-built-in-vs-webhook-detailed-comparison" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Built-in vs Webhook: Detailed Comparison
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Built-in vs Webhook: Detailed Comparison">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-differences" class="md-nav__link">
    <span class="md-ellipsis">
      
        Architecture Differences
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feature-comparison-table" class="md-nav__link">
    <span class="md-ellipsis">
      
        Feature Comparison Table
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-execution-order-and-precedence" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Execution Order and Precedence
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Execution Order and Precedence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detailed-execution-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Detailed Execution Sequence
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-real-world-integration-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Real-World Integration Examples
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Real-World Integration Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example-1-complete-pod-creation-with-all-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 1: Complete Pod Creation with All Types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-2-multi-cluster-service-mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        Example 2: Multi-Cluster Service Mesh
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-configuration-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Configuration Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Configuration Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pattern-1-only-built-in-controllers-simple" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 1: Only Built-in Controllers (Simple)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pattern-2-built-in-webhooks-production" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pattern 2: Built-in + Webhooks (Production)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-troubleshooting-the-interconnections" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Troubleshooting the Interconnections
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Troubleshooting the Interconnections">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#issue-my-pod-doesnt-have-the-injected-sidecar" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: "My pod doesn't have the injected sidecar"
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#issue-request-taking-too-long" class="md-nav__link">
    <span class="md-ellipsis">
      
        Issue: "Request taking too long"
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-summary-the-complete-picture" class="md-nav__link">
    <span class="md-ellipsis">
      
        10. Summary: The Complete Picture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="10. Summary: The Complete Picture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#type-matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        Type Matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interconnection-map" class="md-nav__link">
    <span class="md-ellipsis">
      
        Interconnection Map
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#further-reading" class="md-nav__link">
    <span class="md-ellipsis">
      
        Further Reading
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="types-of-admission-controllers-and-webhooks">Types of Admission Controllers and Webhooks</h1>
<p>Understanding the <strong>types</strong> of admission controllers and how they <strong>interconnect</strong> is crucial for mastering Kubernetes admission control.</p>
<hr />
<h2 id="1-the-complete-taxonomy">1. The Complete Taxonomy</h2>
<h3 id="high-level-classification">High-Level Classification</h3>
<div class="highlight"><pre><span></span><code>
                    ADMISSION CONTROLLERS                            
                                                                     
      
    BUILT-IN                      DYNAMIC (WEBHOOKS)            
    (Compiled into apiserver)     (External services)           
      
                                                                   
                              
       MUTATING                         MUTATING                
       - ServiceAcct                    - Webhooks              
       - DefaultSC                             
                                                  
                                                                    
                              
       VALIDATING                       VALIDATING              
       - ResQuota                       - Webhooks              
       - LimitRange                            
                                                  

</code></pre></div>
<hr />
<h2 id="2-type-1-built-in-admission-controllers">2. Type 1: Built-in Admission Controllers</h2>
<p><strong>Built-in admission controllers</strong> are <strong>compiled into</strong> the kube-apiserver binary.</p>
<h3 id="characteristics">Characteristics</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Location</strong></td>
<td>Inside kube-apiserver binary</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><code>--enable-admission-plugins</code> flag</td>
</tr>
<tr>
<td><strong>Language</strong></td>
<td>Written in Go</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Fast (in-process)</td>
</tr>
<tr>
<td><strong>Flexibility</strong></td>
<td>Limited (fixed logic)</td>
</tr>
<tr>
<td><strong>Examples</strong></td>
<td>ServiceAccount, ResourceQuota, NamespaceLifecycle</td>
</tr>
</tbody>
</table>
<h3 id="sub-types">Sub-types</h3>
<h4 id="type-1a-built-in-mutating-controllers">Type 1A: Built-in Mutating Controllers</h4>
<p><strong>Purpose:</strong> Modify requests before validation.</p>
<table>
<thead>
<tr>
<th>Controller</th>
<th>What It Mutates</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ServiceAccount</strong></td>
<td>Injects SA token volumes</td>
</tr>
<tr>
<td><strong>DefaultStorageClass</strong></td>
<td>Sets default StorageClass on PVCs</td>
</tr>
<tr>
<td><strong>DefaultTolerationSeconds</strong></td>
<td>Adds node taint tolerations</td>
</tr>
<tr>
<td><strong>PodSecurityDefaults</strong></td>
<td>Sets pod security labels</td>
</tr>
</tbody>
</table>
<p><strong>Example Flow:</strong>
<div class="highlight"><pre><span></span><code>User submits Pod with no serviceAccountName
         
ServiceAccount Controller (Built-in Mutating)
         
Adds: serviceAccountName: default
Adds: volume mount for token
         
Modified Pod  Sent to Validating Controllers
</code></pre></div></p>
<hr />
<h4 id="type-1b-built-in-validating-controllers">Type 1B: Built-in Validating Controllers</h4>
<p><strong>Purpose:</strong> Approve or reject requests.</p>
<table>
<thead>
<tr>
<th>Controller</th>
<th>What It Validates</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ResourceQuota</strong></td>
<td>Checks if within quota</td>
</tr>
<tr>
<td><strong>LimitRanger</strong></td>
<td>Checks if within limits</td>
</tr>
<tr>
<td><strong>NamespaceLifecycle</strong></td>
<td>Checks namespace existence</td>
</tr>
<tr>
<td><strong>PodSecurity</strong></td>
<td>Validates pod security standards</td>
</tr>
<tr>
<td><strong>NodeRestriction</strong></td>
<td>Validates kubelet permissions</td>
</tr>
</tbody>
</table>
<p><strong>Example Flow:</strong>
<div class="highlight"><pre><span></span><code>Pod (already mutated) arrives
         
ResourceQuota Controller (Built-in Validating)
         
Check: Does this pod exceed namespace quota?
         
YES   REJECT (Error to user)
NO    APPROVE (Continue to next validator)
</code></pre></div></p>
<hr />
<h2 id="3-type-2-dynamic-admission-webhooks">3. Type 2: Dynamic Admission Webhooks</h2>
<p><strong>Dynamic admission webhooks</strong> are <strong>external HTTP services</strong> that kube-apiserver calls.</p>
<h3 id="characteristics_1">Characteristics</h3>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Location</strong></td>
<td>External service (pod, external server)</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td><code>MutatingWebhookConfiguration</code> / <code>ValidatingWebhookConfiguration</code></td>
</tr>
<tr>
<td><strong>Language</strong></td>
<td>Any (Python, Go, Node.js, etc.)</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Slower (network call)</td>
</tr>
<tr>
<td><strong>Flexibility</strong></td>
<td>High (custom logic)</td>
</tr>
<tr>
<td><strong>Examples</strong></td>
<td>Istio sidecar injector, OPA Gatekeeper</td>
</tr>
</tbody>
</table>
<h3 id="sub-types_1">Sub-types</h3>
<h4 id="type-2a-mutatingadmissionwebhook">Type 2A: MutatingAdmissionWebhook</h4>
<p><strong>Purpose:</strong> Call external service to mutate requests.</p>
<p><strong>How It Works:</strong>
<div class="highlight"><pre><span></span><code>
  1. Pod creation request arrives                          

                       

  2. kube-apiserver calls MutatingWebhook                   
                                                            
     POST https://webhook-service.default.svc/mutate        
     {                                                      
       &quot;request&quot;: {                                         
         &quot;object&quot;: { /* Pod YAML */ }                       
       }                                                    
     }                                                      

                       

  3. Webhook service processes request                      
     - Runs custom logic (Go, Python, etc.)                 
     - Decides what to add/modify                           
     - Creates JSON Patch                                   

                       

  4. Webhook returns response                               
     {                                                      
       &quot;response&quot;: {                                        
         &quot;allowed&quot;: true,                                   
         &quot;patchType&quot;: &quot;JSONPatch&quot;,                          
         &quot;patch&quot;: &quot;W3sib3AiOiJhZGQi...&quot;                     
       }                                                    
     }                                                      

                       

  5. kube-apiserver applies patch                           
     Original Pod + JSON Patch = Mutated Pod                

</code></pre></div></p>
<p><strong>Configuration:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admissionregistration.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MutatingWebhookConfiguration</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-mutating-webhook</span>
<span class="nt">webhooks</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mutate.example.com</span>
<span class="w">  </span><span class="nt">clientConfig</span><span class="p">:</span>
<span class="w">    </span><span class="nt">service</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">webhook-service</span>
<span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/mutate</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">operations</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;CREATE&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;UPDATE&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">apiGroups</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">apiVersions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;v1&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;pods&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<hr />
<h4 id="type-2b-validatingadmissionwebhook">Type 2B: ValidatingAdmissionWebhook</h4>
<p><strong>Purpose:</strong> Call external service to validate requests.</p>
<p><strong>How It Works:</strong>
<div class="highlight"><pre><span></span><code>
  1. Pod (already mutated) arrives for validation           

                       

  2. kube-apiserver calls ValidatingWebhook                 
                                                            
     POST https://validator.default.svc/validate            
     {                                                      
       &quot;request&quot;: {                                         
         &quot;object&quot;: { /* Mutated Pod YAML */ }               
       }                                                    
     }                                                      

                       

  3. Webhook service validates request                      
     - Checks custom policies                               
     - Validates against company rules                      
     - Returns ALLOW or DENY                                

                       

  4. Webhook returns response                               
     {                                                      
       &quot;response&quot;: {                                        
         &quot;allowed&quot;: false,                                  
         &quot;status&quot;: {                                        
           &quot;message&quot;: &quot;Image not from approved registry&quot;    
         }                                                  
       }                                                    
     }                                                      

                       

  5. kube-apiserver rejects or approves                     
     DENY  User gets error message                         
     ALLOW  Continue to next validator                     

</code></pre></div></p>
<p><strong>Configuration:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admissionregistration.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ValidatingWebhookConfiguration</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">example-validating-webhook</span>
<span class="nt">webhooks</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validate.example.com</span>
<span class="w">  </span><span class="nt">clientConfig</span><span class="p">:</span>
<span class="w">    </span><span class="nt">service</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">validator-service</span>
<span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/validate</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">operations</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;CREATE&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;UPDATE&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">apiGroups</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">apiVersions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;v1&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;pods&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div></p>
<hr />
<h2 id="4-how-all-types-interconnect">4. How All Types Interconnect</h2>
<h3 id="the-complete-admission-control-flow">The Complete Admission Control Flow</h3>
<div class="highlight"><pre><span></span><code>
                      REQUEST ARRIVES AT API SERVER                       
                           kubectl apply -f pod.yaml                      

                                   

  AUTHENTICATION                                                         

                                   

  AUTHORIZATION                                                          

                                   

  PHASE 1: MUTATING ADMISSION (Sequential Execution)                      
                                                                          
   
   TYPE 1A: Built-in Mutating Controllers                             
                                                                       
   Controller 1: NamespaceLifecycle (check namespace exists)          
                                                                      
   Controller 2: ServiceAccount (inject SA token)                     
                                                                      
   Controller 3: DefaultStorageClass (set default SC)                 
                                                                      
   Controller 4: DefaultTolerationSeconds (add tolerations)           
   
                                                                         
   
   TYPE 2A: MutatingAdmissionWebhook                                  
                                                                       
   Webhook 1: Istio Sidecar Injector                                  
     POST https://istio-sidecar.istio-system.svc/inject               
     Response: Add istio-proxy container                              
                                                                      
   Webhook 2: Vault Agent Injector                                    
     POST https://vault-agent.vault.svc/mutate                        
     Response: Add vault agent init container                         
                                                                      
   Webhook 3: Image Policy Enforcer                                   
     POST https://image-policy.security.svc/mutate                    
     Response: Prepend registry URL to image                          
   
                                                                          
  Result: Pod is now FULLY MUTATED                                        

                                   

  PHASE 2: VALIDATING ADMISSION (Parallel Execution)                     
                                                                          
   
   TYPE 1B: Built-in Validating Controllers                           
                                                                       
   Controller 1: LimitRanger           Controller 2: ResourceQuota    
   Check: Within limits?              Check: Within quota?         
                                                                       
   Controller 3: PodSecurity            Controller 4: NodeRestriction 
   Check: Security policy?            Check: Node perms?           
   
                                                                         
   
   TYPE 2B: ValidatingAdmissionWebhook                                
                                                                       
   Webhook 1: OPA Gatekeeper          Webhook 2: Image Scanner        
   POST /validate                     POST /validate-image             
   Check: Policy compliant?          Check: No vulnerabilities?    
                                                                       
   Webhook 3: Custom Validator                                        
   POST /custom-validate                                               
   Check: Company rules?                                             
   
                                                                          
  IF ANY VALIDATOR REJECTS   REQUEST REJECTED                          
  IF ALL VALIDATORS APPROVE   CONTINUE                                 

                                   

  PERSIST TO ETCD                                                        
  Pod is created with all mutations applied                               

</code></pre></div>
<hr />
<h2 id="5-built-in-vs-webhook-detailed-comparison">5. Built-in vs Webhook: Detailed Comparison</h2>
<h3 id="architecture-differences">Architecture Differences</h3>
<div class="highlight"><pre><span></span><code>
  BUILT-IN ADMISSION CONTROLLERS                                     
                                                                     
             
                                                                  
                     
               kube-apiserver                                  
                         
          ServiceAccount Controller                          
          (Compiled Go code)                      
                                                      Fast   
          ResourceQuota Controller                   (in-    
          (Compiled Go code)                         process)
                                                             
          LimitRanger Controller                             
          (Compiled Go code)                                 
                         
                     
             



  WEBHOOK ADMISSION CONTROLLERS                                      
                                                                     
                        
            kube-apiserver                                        
                            
       MutatingWebhook Plugin                                   
       (Makes HTTP calls)                                       
                            
                        
                       HTTP POST                                   
                       (Network call)                              
                                                                    
                        
     Webhook Service Pod                         
              Slower       
       Your custom code                         (network       
       (Python, Go, Node.js, etc.)               latency)      
                                                                
       - Istio sidecar injector                                 
       - Vault agent injector                                   
       - OPA Gatekeeper                                         
       - Custom validators                                      
                            
                        

</code></pre></div>
<h3 id="feature-comparison-table">Feature Comparison Table</h3>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Built-in Controllers</th>
<th>Webhook Controllers</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Performance</strong></td>
<td> Very fast (in-process)</td>
<td> Slower (HTTP call)</td>
</tr>
<tr>
<td><strong>Latency</strong></td>
<td>&lt;1ms</td>
<td>10-100ms+</td>
</tr>
<tr>
<td><strong>Flexibility</strong></td>
<td> Fixed logic</td>
<td> Custom logic</td>
</tr>
<tr>
<td><strong>Language</strong></td>
<td>Go only</td>
<td>Any language</td>
</tr>
<tr>
<td><strong>Updates</strong></td>
<td> Requires apiserver restart</td>
<td> Update anytime</td>
</tr>
<tr>
<td><strong>Configuration</strong></td>
<td>API server flags</td>
<td>K8s resources (YAML)</td>
</tr>
<tr>
<td><strong>Debugging</strong></td>
<td> Harder (recompile)</td>
<td> Easier (logs, debug)</td>
</tr>
<tr>
<td><strong>Failure Impact</strong></td>
<td> API server crash</td>
<td> Request timeout/fail</td>
</tr>
<tr>
<td><strong>Examples</strong></td>
<td>ServiceAccount, ResourceQuota</td>
<td>Istio, OPA, Vault</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="6-execution-order-and-precedence">6. Execution Order and Precedence</h2>
<h3 id="detailed-execution-sequence">Detailed Execution Sequence</h3>
<div class="highlight"><pre><span></span><code>REQUEST
   
    Authentication
   
    Authorization
   
    MUTATING PHASE (Sequential)
      
       Built-in Mutating Controllers (in configured order)
          NamespaceLifecycle
          LimitRanger (mutating part)
          ServiceAccount
          DefaultStorageClass
          DefaultTolerationSeconds
          RuntimeClass
      
       MutatingAdmissionWebhooks (ordered by name, then creation time)
           istio-sidecar-injector
           vault-agent-injector
           custom-mutator
   
    VALIDATING PHASE (Parallel)
      
       Built-in Validating Controllers (parallel)
          LimitRanger
          ResourceQuota
          PodSecurity
          NodeRestriction
      
       ValidatingAdmissionWebhooks (parallel)
           gatekeeper-validator
           image-scanner
           custom-validator
   
    Persist to etcd
</code></pre></div>
<p><strong>Key Points:</strong>
1. <strong>Mutating phase is SEQUENTIAL</strong> - order matters!
2. <strong>Validating phase is PARALLEL</strong> - all run simultaneously
3. <strong>Built-in before Webhooks</strong> within each phase
4. <strong>Any rejection stops the entire request</strong></p>
<hr />
<h2 id="7-real-world-integration-examples">7. Real-World Integration Examples</h2>
<h3 id="example-1-complete-pod-creation-with-all-types">Example 1: Complete Pod Creation with All Types</h3>
<p><strong>Original Pod Submission:</strong>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class="w">  </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
</code></pre></div></p>
<p><strong>After All Mutations (Built-in + Webhooks):</strong>
<div class="highlight"><pre><span></span><code><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pod</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class="w">  </span><span class="nt">labels</span><span class="p">:</span>
<span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myapp</span>
<span class="w">    </span><span class="nt">istio.io/rev</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class="w">                          </span><span class="c1">#  Istio webhook</span>
<span class="w">  </span><span class="nt">annotations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">vault.hashicorp.com/agent-inject</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="w">       </span><span class="c1">#  Vault webhook</span>
<span class="w">    </span><span class="nt">prometheus.io/scrape</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;true&quot;</span><span class="w">                   </span><span class="c1">#  Prometheus webhook</span>
<span class="nt">spec</span><span class="p">:</span>
<span class="w">  </span><span class="nt">serviceAccountName</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">default</span><span class="w">                      </span><span class="c1">#  ServiceAccount (built-in)</span>
<span class="w">  </span><span class="nt">automountServiceAccountToken</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="w">  </span><span class="nt">tolerations</span><span class="p">:</span><span class="w">                                     </span><span class="c1">#  DefaultTolerationSeconds (built-in)</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">node.kubernetes.io/not-ready</span>
<span class="w">    </span><span class="nt">operator</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Exists</span>
<span class="w">    </span><span class="nt">effect</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">NoExecute</span>
<span class="w">    </span><span class="nt">tolerationSeconds</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">300</span>
<span class="w">  </span><span class="nt">initContainers</span><span class="p">:</span><span class="w">                                  </span><span class="c1">#  Vault webhook</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vault-agent-init</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">vault:1.12.1</span>
<span class="w">  </span><span class="nt">containers</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">app</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">myregistry.company.com/nginx:latest</span><span class="w">     </span><span class="c1">#  Image Policy webhook (modified!)</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">80</span>
<span class="w">    </span><span class="nt">volumeMounts</span><span class="p">:</span><span class="w">                                  </span><span class="c1">#  ServiceAccount (built-in)</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kube-api-access-xxxxx</span>
<span class="w">      </span><span class="nt">mountPath</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/var/run/secrets/kubernetes.io/serviceaccount</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">istio-proxy</span><span class="w">                              </span><span class="c1">#  Istio webhook (added!)</span>
<span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">istio/proxyv2:1.17.1</span>
<span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">containerPort</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">15001</span>
<span class="w">  </span><span class="nt">volumes</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">kube-api-access-xxxxx</span><span class="w">                    </span><span class="c1">#  ServiceAccount (built-in)</span>
<span class="w">    </span><span class="nt">projected</span><span class="p">:</span>
<span class="w">      </span><span class="nt">sources</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">serviceAccountToken</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">...</span>
</code></pre></div></p>
<hr />
<h3 id="example-2-multi-cluster-service-mesh">Example 2: Multi-Cluster Service Mesh</h3>
<p><strong>Scenario:</strong> Using both built-in and webhook types together.</p>
<div class="highlight"><pre><span></span><code>
  Pod Creation Request                                      

                         
        
         Built-in: ServiceAccount       
         Adds: SA token volume          
        
                         
        
         Webhook: Istio Sidecar         
         Adds: Envoy proxy container    
        
                         
        
         Webhook: Linkerd Injector      
         Adds: Linkerd proxy container  
        
                         
        
         Built-in: ResourceQuota        
         Validates: Within quota?       
        
                         
        
         Webhook: OPA Gatekeeper        
         Validates: Policy compliant?   
        
                         
                    APPROVED
</code></pre></div>
<hr />
<h2 id="8-configuration-patterns">8. Configuration Patterns</h2>
<h3 id="pattern-1-only-built-in-controllers-simple">Pattern 1: Only Built-in Controllers (Simple)</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># /etc/kubernetes/manifests/kube-apiserver.yaml</span>
<span class="l l-Scalar l-Scalar-Plain">--enable-admission-plugins=NamespaceLifecycle,LimitRanger,ServiceAccount,ResourceQuota</span>
</code></pre></div>
<p><strong>Use case:</strong> Simple clusters without custom policies</p>
<hr />
<h3 id="pattern-2-built-in-webhooks-production">Pattern 2: Built-in + Webhooks (Production)</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># API Server</span>
<span class="l l-Scalar l-Scalar-Plain">--enable-admission-plugins=NamespaceLifecycle,LimitRanger,ServiceAccount,ResourceQuota,MutatingAdmissionWebhook,ValidatingAdmissionWebhook</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1"># MutatingWebhookConfiguration</span>
<span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admissionregistration.k8s.io/v1</span>
<span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">MutatingWebhookConfiguration</span>
<span class="nt">metadata</span><span class="p">:</span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">istio-sidecar-injector</span>
<span class="nt">webhooks</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">sidecar-injector.istio.io</span>
<span class="w">  </span><span class="nt">clientConfig</span><span class="p">:</span>
<span class="w">    </span><span class="nt">service</span><span class="p">:</span>
<span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">istiod</span>
<span class="w">      </span><span class="nt">namespace</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">istio-system</span>
<span class="w">      </span><span class="nt">path</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">/inject</span>
<span class="w">  </span><span class="nt">rules</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">operations</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;CREATE&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">apiGroups</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">apiVersions</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;v1&quot;</span><span class="p p-Indicator">]</span>
<span class="w">    </span><span class="nt">resources</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;pods&quot;</span><span class="p p-Indicator">]</span>
</code></pre></div>
<p><strong>Use case:</strong> Production clusters with service mesh, policy enforcement</p>
<hr />
<h2 id="9-troubleshooting-the-interconnections">9. Troubleshooting the Interconnections</h2>
<h3 id="issue-my-pod-doesnt-have-the-injected-sidecar">Issue: "My pod doesn't have the injected sidecar"</h3>
<p><strong>Check the chain:</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># 1. Is MutatingAdmissionWebhook controller enabled?</span>
kubectl<span class="w"> </span>-n<span class="w"> </span>kube-system<span class="w"> </span>get<span class="w"> </span>pod<span class="w"> </span>kube-apiserver-&lt;node&gt;<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>enable-admission-plugins

<span class="c1"># 2. Does the webhook configuration exist?</span>
kubectl<span class="w"> </span>get<span class="w"> </span>mutatingwebhookconfigurations

<span class="c1"># 3. Is the webhook service running?</span>
kubectl<span class="w"> </span>get<span class="w"> </span>svc<span class="w"> </span>-n<span class="w"> </span>istio-system<span class="w"> </span>istiod

<span class="c1"># 4. Check webhook logs</span>
kubectl<span class="w"> </span>logs<span class="w"> </span>-n<span class="w"> </span>istio-system<span class="w"> </span>deployment/istiod<span class="w"> </span>-f

<span class="c1"># 5. Test with dry-run to see mutations</span>
kubectl<span class="w"> </span>apply<span class="w"> </span>-f<span class="w"> </span>pod.yaml<span class="w"> </span>--dry-run<span class="o">=</span>server<span class="w"> </span>-o<span class="w"> </span>yaml
</code></pre></div>
<hr />
<h3 id="issue-request-taking-too-long">Issue: "Request taking too long"</h3>
<p><strong>Likely cause:</strong> Too many webhooks or slow webhook services.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Check all webhooks</span>
kubectl<span class="w"> </span>get<span class="w"> </span>mutatingwebhookconfigurations
kubectl<span class="w"> </span>get<span class="w"> </span>validatingwebhookconfigurations

<span class="c1"># Check webhook timeouts</span>
kubectl<span class="w"> </span>get<span class="w"> </span>mutatingwebhookconfigurations<span class="w"> </span>&lt;name&gt;<span class="w"> </span>-o<span class="w"> </span>yaml<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>timeoutSeconds

<span class="c1"># Monitor API server latency</span>
kubectl<span class="w"> </span>get<span class="w"> </span>--raw<span class="w"> </span>/metrics<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>apiserver_admission_webhook_admission_duration_seconds
</code></pre></div>
<hr />
<h2 id="10-summary-the-complete-picture">10. Summary: The Complete Picture</h2>
<h3 id="type-matrix">Type Matrix</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Category</th>
<th>Location</th>
<th>Performance</th>
<th>Flexibility</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1A</strong></td>
<td>Built-in Mutating</td>
<td>kube-apiserver</td>
<td> Very Fast</td>
<td> Fixed</td>
<td>ServiceAccount</td>
</tr>
<tr>
<td><strong>1B</strong></td>
<td>Built-in Validating</td>
<td>kube-apiserver</td>
<td> Very Fast</td>
<td> Fixed</td>
<td>ResourceQuota</td>
</tr>
<tr>
<td><strong>2A</strong></td>
<td>Webhook Mutating</td>
<td>External Pod</td>
<td> Slower</td>
<td> Custom</td>
<td>Istio Injector</td>
</tr>
<tr>
<td><strong>2B</strong></td>
<td>Webhook Validating</td>
<td>External Pod</td>
<td> Slower</td>
<td> Custom</td>
<td>OPA Gatekeeper</td>
</tr>
</tbody>
</table>
<h3 id="interconnection-map">Interconnection Map</h3>
<div class="highlight"><pre><span></span><code>
                    ADMISSION CONTROL SYSTEM                     
                                                                 
  Authentication  Authorization                                 
                                                                
                  
    MUTATING (Sequential)                                      
                          
     Built-in       Webhooks                           
     (Type 1A)         (Type 2A)                          
                          
                  
                                                                
                  
    VALIDATING (Parallel)                                      
                          
     Built-in       Webhooks                           
     (Type 1B)      (Type 2B)                          
                          
                  
                                                                
  Persist to etcd                                                

</code></pre></div>
<hr />
<h2 id="further-reading">Further Reading</h2>
<ul>
<li>
<p><strong><a href="https://kubernetes.io/docs/reference/access-authn-authz/admission-controllers/">Admission Controllers Reference</a></strong><br />
  Complete list of all built-in controllers</p>
</li>
<li>
<p><strong><a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/">Dynamic Admission Control</a></strong><br />
  Webhook configuration and implementation</p>
</li>
<li>
<p><strong><a href="https://kubernetes.io/docs/concepts/cluster-administration/system-metrics/#admission-control">Admission Controller Metrics</a></strong><br />
  Monitoring admission controller performance</p>
</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.top", "search.highlight", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>